!function(){"use strict";const n="#2c5f5f",t="#ff6600",e="#333333",i="#666666",s="#ffffff",o="#e8f4f8",a="#f5f5f5",r="rgba(0,0,0,0.15)",c=300,h="cubic-bezier(0.4, 0, 0.2, 1)",d="Hello! I'm the TechNet assistant. I can help you with information about immunization programs, guidelines, and resources. How can I assist you today?",l="Type your message here...",p="Sorry, I'm having trouble connecting right now. Please try again in a moment.",g="Thinking...";function m(n,t="",e=""){const i=document.createElement(n);return t&&(i.className=t),e&&(i.innerHTML=e),i}function u(n){const t=document.createElement("div");return t.textContent=n,t.innerHTML}class b{constructor(){this.isOpen=!1,this.isMinimized=!1,this.messageHistory=[],this.isTyping=!1,this.init()}init(){this.createStyles(),this.createWidget(),this.bindEvents(),this.addMessage(d,"bot",[],!0)}createStyles(){const d=`\n                .technet-chatbot * {\n                    box-sizing: border-box;\n                    margin: 0;\n                    padding: 0;\n                }\n\n                .technet-chatbot-trigger {\n                    position: fixed;\n                    bottom: 24px;\n                    right: 24px;\n                    width: 60px;\n                    height: 60px;\n                    background: linear-gradient(135deg, ${n} 0%, #3a7a7a 100%);\n                    border-radius: 50%;\n                    cursor: pointer;\n                    box-shadow: 0 4px 20px ${r};\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    transition: all ${c}ms ${h};\n                    z-index: 10000;\n                    border: none;\n                    outline: none;\n                }\n\n                .technet-chatbot-trigger:hover {\n                    transform: scale(1.05);\n                    box-shadow: 0 6px 25px ${r};\n                }\n\n                .technet-chatbot-trigger:active {\n                    transform: scale(0.95);\n                }\n\n                .technet-chatbot-trigger svg {\n                    width: 28px;\n                    height: 28px;\n                    fill: white;\n                    transition: transform ${c}ms ${h};\n                }\n\n                .technet-chatbot-trigger.open svg {\n                    transform: rotate(180deg);\n                }\n\n                .technet-chatbot-window {\n                    position: fixed;\n                    bottom: 100px;\n                    right: 24px;\n                    width: 380px;\n                    height: 500px;\n                    background: ${s};\n                    border-radius: 16px;\n                    box-shadow: 0 10px 40px ${r};\n                    display: none;\n                    flex-direction: column;\n                    z-index: 9999;\n                    overflow: hidden;\n                    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n                    animation: slideUp ${c}ms ${h};\n                }\n\n                @keyframes slideUp {\n                    from {\n                        opacity: 0;\n                        transform: translateY(20px);\n                    }\n                    to {\n                        opacity: 1;\n                        transform: translateY(0);\n                    }\n                }\n\n                .technet-chatbot-header {\n                    background: linear-gradient(135deg, ${n} 0%, #3a7a7a 100%);\n                    color: white;\n                    padding: 16px 20px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: space-between;\n                }\n\n                .technet-chatbot-title {\n                    font-size: 16px;\n                    font-weight: 600;\n                    display: flex;\n                    align-items: center;\n                    gap: 8px;\n                }\n\n                .technet-chatbot-controls {\n                    display: flex;\n                    gap: 8px;\n                }\n\n                .technet-chatbot-control-btn {\n                    background: rgba(255, 255, 255, 0.2);\n                    border: none;\n                    border-radius: 4px;\n                    color: white;\n                    cursor: pointer;\n                    width: 28px;\n                    height: 28px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    transition: background ${c}ms ease;\n                }\n\n                .technet-chatbot-control-btn:hover {\n                    background: rgba(255, 255, 255, 0.3);\n                }\n\n                .technet-chatbot-messages {\n                    flex: 1;\n                    overflow-y: auto;\n                    padding: 20px;\n                    display: flex;\n                    flex-direction: column;\n                    gap: 16px;\n                    scroll-behavior: smooth;\n                }\n\n                .technet-chatbot-messages::-webkit-scrollbar {\n                    width: 6px;\n                }\n\n                .technet-chatbot-messages::-webkit-scrollbar-track {\n                    background: #f1f1f1;\n                }\n\n                .technet-chatbot-messages::-webkit-scrollbar-thumb {\n                    background: #c1c1c1;\n                    border-radius: 3px;\n                }\n\n                .technet-message {\n                    display: flex;\n                    align-items: flex-end;\n                    gap: 8px;\n                    animation: messageSlideIn 0.3s ease-out;\n                }\n\n                @keyframes messageSlideIn {\n                    from {\n                        opacity: 0;\n                        transform: translateY(10px);\n                    }\n                    to {\n                        opacity: 1;\n                        transform: translateY(0);\n                    }\n                }\n\n                .technet-message.user {\n                    flex-direction: row-reverse;\n                }\n\n                .technet-message-avatar {\n                    width: 32px;\n                    height: 32px;\n                    border-radius: 50%;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    font-size: 12px;\n                    font-weight: bold;\n                    flex-shrink: 0;\n                }\n\n                .technet-message.bot .technet-message-avatar {\n                    background: ${n};\n                    color: white;\n                }\n\n                .technet-message.user .technet-message-avatar {\n                    background: ${t};\n                    color: white;\n                }\n\n                .technet-message-content {\n                    max-width: 70%;\n                    padding: 12px 16px;\n                    border-radius: 18px;\n                    font-size: 14px;\n                    line-height: 1.4;\n                    word-wrap: break-word;\n                }\n\n                .technet-message.bot .technet-message-content {\n                    background: ${a};\n                    color: ${e};\n                    border-bottom-left-radius: 6px;\n                }\n\n                .technet-message.user .technet-message-content {\n                    background: ${o};\n                    color: ${e};\n                    border-bottom-right-radius: 6px;\n                }\n\n                .technet-message-time {\n                    font-size: 11px;\n                    color: ${i};\n                    margin-top: 4px;\n                }\n\n                .technet-message-sources {\n                    margin-top: 8px;\n                    padding: 8px 12px;\n                    background: rgba(44, 95, 95, 0.05);\n                    border-radius: 8px;\n                    border-left: 3px solid ${n};\n                }\n\n                .technet-sources-title {\n                    font-size: 12px;\n                    font-weight: 600;\n                    color: ${n};\n                    margin-bottom: 4px;\n                }\n\n                .technet-sources-list {\n                    list-style: none;\n                    font-size: 11px;\n                }\n\n                .technet-sources-list li {\n                    margin-bottom: 2px;\n                }\n\n                .technet-sources-list a {\n                    color: ${n};\n                    text-decoration: none;\n                    word-break: break-all;\n                }\n\n                .technet-sources-list a:hover {\n                    text-decoration: underline;\n                }\n\n                .technet-typing-indicator {\n                    display: flex;\n                    align-items: center;\n                    gap: 4px;\n                    color: ${i};\n                    font-size: 12px;\n                }\n\n                .technet-typing-dots {\n                    display: flex;\n                    gap: 2px;\n                }\n\n                .technet-typing-dot {\n                    width: 4px;\n                    height: 4px;\n                    background: ${i};\n                    border-radius: 50%;\n                    animation: typingDot 1.4s infinite ease-in-out;\n                }\n\n                .technet-typing-dot:nth-child(2) {\n                    animation-delay: 0.2s;\n                }\n\n                .technet-typing-dot:nth-child(3) {\n                    animation-delay: 0.4s;\n                }\n\n                @keyframes typingDot {\n                    0%, 60%, 100% {\n                        transform: translateY(0);\n                        opacity: 0.5;\n                    }\n                    30% {\n                        transform: translateY(-8px);\n                        opacity: 1;\n                    }\n                }\n\n                .technet-chatbot-input {\n                    padding: 16px 20px;\n                    border-top: 1px solid #e0e0e0;\n                    display: flex;\n                    gap: 12px;\n                    align-items: flex-end;\n                }\n\n                .technet-input-wrapper {\n                    flex: 1;\n                    position: relative;\n                }\n\n                .technet-input-field {\n                    width: 100%;\n                    min-height: 20px;\n                    max-height: 80px;\n                    padding: 12px 16px;\n                    padding-right: 60px;\n                    border: 2px solid #e0e0e0;\n                    border-radius: 20px;\n                    font-size: 14px;\n                    font-family: inherit;\n                    resize: none;\n                    outline: none;\n                    transition: border-color 0.2s ease;\n                    overflow-y: auto;\n                }\n\n                .technet-input-field:focus {\n                    border-color: ${n};\n                }\n\n                .technet-input-field::placeholder {\n                    color: ${i};\n                }\n\n                .technet-send-btn {\n                    width: 40px;\n                    height: 40px;\n                    background: ${n};\n                    border: none;\n                    border-radius: 50%;\n                    color: white;\n                    cursor: pointer;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    transition: all 0.2s ease;\n                    flex-shrink: 0;\n                }\n\n                .technet-send-btn:hover:not(:disabled) {\n                    background: #3a7a7a;\n                    transform: scale(1.05);\n                }\n\n                .technet-send-btn:disabled {\n                    background: #ccc;\n                    cursor: not-allowed;\n                    transform: none;\n                }\n\n                .technet-notification {\n                    position: fixed;\n                    bottom: 80px;\n                    right: 100px;\n                    background: ${n};\n                    color: white;\n                    padding: 8px 12px;\n                    border-radius: 20px;\n                    font-size: 12px;\n                    box-shadow: 0 2px 10px ${r};\n                    animation: notificationSlide 0.3s ease-out;\n                    z-index: 10001;\n                    max-width: 200px;\n                    word-wrap: break-word;\n                }\n\n                @keyframes notificationSlide {\n                    from {\n                        opacity: 0;\n                        transform: translateX(100%);\n                    }\n                    to {\n                        opacity: 1;\n                        transform: translateX(0);\n                    }\n                }\n\n                /* Mobile Responsiveness */\n                @media (max-width: 768px) {\n                    .technet-chatbot-window {\n                        width: calc(100vw - 24px);\n                        height: calc(100vh - 24px);\n                        bottom: 12px;\n                        right: 12px;\n                        border-radius: 12px;\n                    }\n                    \n                    .technet-chatbot-trigger {\n                        bottom: 16px;\n                        right: 16px;\n                    }\n                }\n\n                /* Minimized state */\n                .technet-chatbot-window.minimized {\n                    height: 60px;\n                    overflow: hidden;\n                }\n\n                .technet-chatbot-window.minimized .technet-chatbot-messages,\n                .technet-chatbot-window.minimized .technet-chatbot-input {\n                    display: none;\n                }\n\n                /* Accessibility */\n                .technet-chatbot-trigger:focus,\n                .technet-chatbot-control-btn:focus,\n                .technet-send-btn:focus {\n                    outline: 2px solid ${t};\n                    outline-offset: 2px;\n                }\n            `,l=m("style");l.textContent=d,document.head.appendChild(l)}createWidget(){this.trigger=m("button","technet-chatbot-trigger"),this.trigger.innerHTML='\n                <svg viewBox="0 0 24 24">\n                    <path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>\n                </svg>\n            ',this.trigger.setAttribute("aria-label","Open TechNet Chat Assistant"),this.trigger.setAttribute("role","button"),this.trigger.setAttribute("tabindex","0"),this.window=m("div","technet-chatbot-window"),this.window.setAttribute("role","dialog"),this.window.setAttribute("aria-label","TechNet Chat Assistant");const n=m("div","technet-chatbot-header");n.innerHTML='\n                <div class="technet-chatbot-title">\n                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">\n                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>\n                    </svg>\n                    TechNet Assistant\n                </div>\n                <div class="technet-chatbot-controls">\n                    <button class="technet-chatbot-control-btn minimize-btn" aria-label="Minimize chat">\n                        <svg width="14" height="14" fill="currentColor" viewBox="0 0 24 24">\n                            <path d="M19 13H5v-2h14v2z"/>\n                        </svg>\n                    </button>\n                    <button class="technet-chatbot-control-btn close-btn" aria-label="Close chat">\n                        <svg width="14" height="14" fill="currentColor" viewBox="0 0 24 24">\n                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n                        </svg>\n                    </button>\n                </div>\n            ',this.messagesContainer=m("div","technet-chatbot-messages"),this.messagesContainer.setAttribute("role","log"),this.messagesContainer.setAttribute("aria-live","polite");const t=m("div","technet-chatbot-input");t.innerHTML=`\n                <div class="technet-input-wrapper">\n                    <textarea class="technet-input-field" placeholder="${l}" rows="1" maxlength="1000" aria-label="Message input"></textarea>\n                    <button class="technet-send-btn" aria-label="Send message">\n                        <svg width="18" height="18" fill="currentColor" viewBox="0 0 24 24">\n                            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>\n                        </svg>\n                    </button>\n                </div>\n            `,this.window.appendChild(n),this.window.appendChild(this.messagesContainer),this.window.appendChild(t),document.body.appendChild(this.trigger),document.body.appendChild(this.window),this.inputField=this.window.querySelector(".technet-input-field"),this.sendBtn=this.window.querySelector(".technet-send-btn"),this.minimizeBtn=this.window.querySelector(".minimize-btn"),this.closeBtn=this.window.querySelector(".close-btn")}bindEvents(){this.trigger.addEventListener("click",()=>this.toggleChat()),this.trigger.addEventListener("keydown",n=>{"Enter"!==n.key&&" "!==n.key||(n.preventDefault(),this.toggleChat())}),this.closeBtn.addEventListener("click",()=>this.closeChat()),this.minimizeBtn.addEventListener("click",()=>this.toggleMinimize()),this.inputField.addEventListener("keydown",n=>{"Enter"!==n.key||n.shiftKey||(n.preventDefault(),this.sendMessage())}),this.inputField.addEventListener("input",()=>{this.inputField.style.height="auto",this.inputField.style.height=Math.min(this.inputField.scrollHeight,80)+"px"}),this.sendBtn.addEventListener("click",()=>this.sendMessage()),document.addEventListener("keydown",n=>{"Escape"===n.key&&this.isOpen&&this.closeChat()}),document.addEventListener("click",n=>{this.isOpen&&!this.window.contains(n.target)&&this.trigger.contains(n.target)})}toggleChat(){this.isOpen?this.closeChat():this.openChat()}openChat(){this.isOpen=!0,this.window.style.display="flex",this.trigger.classList.add("open"),this.trigger.setAttribute("aria-expanded","true"),setTimeout(()=>{this.inputField.focus()},300),this.scrollToBottom()}closeChat(){this.isOpen=!1,this.isMinimized=!1,this.window.style.display="none",this.window.classList.remove("minimized"),this.trigger.classList.remove("open"),this.trigger.setAttribute("aria-expanded","false")}toggleMinimize(){this.isMinimized=!this.isMinimized,this.isMinimized?(this.window.classList.add("minimized"),this.minimizeBtn.innerHTML='\n                    <svg width="14" height="14" fill="currentColor" viewBox="0 0 24 24">\n                        <path d="M18 9v4H6V9h12m0-2H6c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2z"/>\n                    </svg>\n                ',this.minimizeBtn.setAttribute("aria-label","Restore chat")):(this.window.classList.remove("minimized"),this.minimizeBtn.innerHTML='\n                    <svg width="14" height="14" fill="currentColor" viewBox="0 0 24 24">\n                        <path d="M19 13H5v-2h14v2z"/>\n                    </svg>\n                ',this.minimizeBtn.setAttribute("aria-label","Minimize chat"),this.scrollToBottom())}async sendMessage(){const n=this.inputField.value.trim();if(n&&!this.isTyping){this.addMessage(n,"user"),this.inputField.value="",this.inputField.style.height="auto",this.showTypingIndicator();try{const n=await async function(){if(await new Promise(n=>setTimeout(n,1e3+2e3*Math.random())),Math.random()<.1)throw new Error("Network error");const n=[{text:"Based on current WHO guidelines, routine immunization schedules should be maintained even during health emergencies. It's crucial to ensure continued protection against vaccine-preventable diseases.",sources:["https://www.who.int/immunization/policy/position_papers/en/","https://www.cdc.gov/vaccines/schedules/index.html"]},{text:"The global immunization coverage has shown improvement over recent years, with over 85% of children worldwide receiving basic vaccines. However, equity gaps remain in underserved populations.",sources:["https://www.who.int/news-room/fact-sheets/detail/immunization-coverage","https://data.unicef.org/topic/child-health/immunization/"]},{text:"Cold chain management is critical for vaccine effectiveness. Vaccines should be stored between 2-8°C and monitored continuously to ensure potency.",sources:["https://www.who.int/immunization/programmes_systems/supply_chain/resources/en/","https://www.cdc.gov/vaccines/hcp/admin/storage/guide.html"]}];return n[Math.floor(Math.random()*n.length)]}();this.hideTypingIndicator(),this.addMessage(n.text,"bot",n.sources)}catch(n){console.error("Chatbot API Error:",n),this.hideTypingIndicator(),this.addMessage(p,"bot"),this.showNotification("Connection error. Please try again.")}}}addMessage(n,t,e=[],i=!1){const s={id:Date.now(),text:u(n),sender:t,sources:e||[],timestamp:new Date,isInitial:i};this.messageHistory.push(s);const o=this.createMessageElement(s);this.messagesContainer.appendChild(o),i||this.scrollToBottom()}createMessageElement(n){const t=m("div",`technet-message ${n.sender}`);t.setAttribute("data-message-id",n.id);const e=m("div","technet-message-avatar");e.textContent="bot"===n.sender?"TN":"U";const i=m("div"),s=m("div","technet-message-content");s.textContent=n.text;const o=m("div","technet-message-time");if(o.textContent=n.timestamp.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),i.appendChild(s),i.appendChild(o),n.sources&&n.sources.length>0){const t=m("div","technet-message-sources");t.innerHTML=`\n                    <div class="technet-sources-title">Sources:</div>\n                    <ul class="technet-sources-list">\n                        ${n.sources.map(n=>`<li>• <a href="${u(n)}" target="_blank" rel="noopener noreferrer">${u(n)}</a></li>`).join("")}\n                    </ul>\n                `,i.appendChild(t)}return t.appendChild(e),t.appendChild(i),t}showTypingIndicator(){this.typingIndicator||(this.isTyping=!0,this.sendBtn.disabled=!0,this.typingIndicator=m("div","technet-message bot"),this.typingIndicator.innerHTML=`\n                <div class="technet-message-avatar">TN</div>\n                <div class="technet-message-content">\n                    <div class="technet-typing-indicator">\n                        <span>${g}</span>\n                        <div class="technet-typing-dots">\n                            <div class="technet-typing-dot"></div>\n                            <div class="technet-typing-dot"></div>\n                            <div class="technet-typing-dot"></div>\n                        </div>\n                    </div>\n                </div>\n            `,this.messagesContainer.appendChild(this.typingIndicator),this.scrollToBottom())}hideTypingIndicator(){this.typingIndicator&&(this.typingIndicator.remove(),this.typingIndicator=null),this.isTyping=!1,this.sendBtn.disabled=!1}scrollToBottom(){setTimeout(()=>{this.messagesContainer.scrollTop=this.messagesContainer.scrollHeight},100)}showNotification(n){const t=m("div","technet-notification");t.textContent=n,document.body.appendChild(t),setTimeout(()=>{t.remove()},3e3)}}window.technetChatbotInitialized||(window.technetChatbotInitialized=!0,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{new b}):new b)}();